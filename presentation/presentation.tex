\documentclass{beamer}
\usepackage[style=authoryear]{biblatex}
\addbibresource{references.bib} 
\usetheme{metropolis}
\title{Revenue Maximization for Buyers with Costly Participation}
\date{DD.01.2025}
\author{Ayk Borstelmann}
\institute{
    Seminar Algorithmic Game Theory
}


\begin{document}
\maketitle
\section{Introductory Example}
\begin{frame}{Problem Statement}
  \begin{itemize}
    \item Set $\mathcal{N}$ of $n$ players
    \item Set $\mathcal{X}$ of outcomes
    \item Each agent $i \in \mathcal{N}$ has
          \begin{itemize}
            \item private valuation $v_i: \mathcal{X} \rightarrow \mathbb{R}$
            \item a set of possible bids $B_i$
            \item<2-> \alert{private participation cost $c_i: \mathbb{R}$}
          \end{itemize}
    \item $B = B_1 \times \dots \times B_n$ set of all bids
    \item Mechanism $\mathcal{M} = (f,p)$
          \begin{itemize}
            \item $f: B \rightarrow \mathcal{X}$ Allocation function
            \item $p: B \rightarrow \mathbb{R}^n$ Payment function
          \end{itemize}
    \item Utility $u_i^M(b) = v_i(f(b)) - p_i(b) \only<2->{\alert{-c_i}}$
  \end{itemize}
\end{frame}
\begin{frame}{Single Item Auction - Known Distributions}
  Each buyer $i \in \mathcal{N}$ has ...
  \begin{itemize}
    \item private valuation $v_i \geq 0$ for getting the item\\
          marginal distribution: $F_i$\\
          density: $f_i$
    \item private cost $c_i \in \mathbb{R}$ for participating in the mechanism \\
          marginal distribution: $G_i$ \\
          density: $g_i$.
  \end{itemize}
  $t_i = (v_i, c_i)$ is the private type of player $i$, prior distribution $\bar{F}_i$.

  $\bar{F} = \bar{F}_1 \times \dots \times \bar{F}_n$.
\end{frame}

\section{Single Buyer}

\begin{frame}{Expected Revenue - Myerson}
  \begin{lemma}[\cite{myerson}]
    Let $\mathcal{M}=(x,p)$ be a truthful single-parameter mechanism, then the expected revenue equals the expected virtual welfare. That is
    \begin{align*}
      \mathbf{E}_v\left[\sum_{i \in \mathcal{N}}p_i(v)\right]
      = \mathbf{E}_v\left[\sum_{i \in \mathcal{N}}x_i(v)\varphi_i(v_i)\right] + n p_0
    \end{align*}

    where $\varphi_i(t) = t - \frac{1 - F_i(t)}{f_i(t)}$
  \end{lemma}

  For single item single buyer:
  \begin{align*}
    \mathbf{E}_v\left[p(v)\right]
    = \mathbf{E}_v\left[x(v)\varphi(v)\right] + p_0
  \end{align*}
\end{frame}

\begin{frame}{Truthful Mechanism - Myerson}
  \begin{lemma}[\cite{myerson}]
    For single parameter environments, an allocation rule $x$ is implementable if and only if it is monotone.
    If $x$ is monotone, then there exists a unique payment rule $p$, s.t. the mechanism $M=(x,p)$ is truthful
    and given by:
    \begin{align*}
      p_i(v) = v_i x_i(v) - \int_0^{v_i} x_i(t,v_{-i})dt + p_0
    \end{align*}
  \end{lemma}

  For single item single buyer:
  \begin{align*}
    p(v) = v x(v) - \int_0^v x(t) dt + p_0
  \end{align*}
\end{frame}

\begin{frame}{Truthful Mechanism - Private Cost}
  Given any single parameter mechanism $\mathcal{M} = (x,p)$ (without respecting private cost $c$).

  \begin{align*}
    v_x(c) & = \inf_{v \in \mathbb{R}_{\geq 0}} \{\underbrace{v x(v) - p(v)}_{u^M(v)} \geq c\} \\
    x_c(v) & = \begin{cases}
                 x(v) & v \geq v_x(c) \\
                 0    & v < v_x(c)
               \end{cases}
  \end{align*}

  Visualize $v_x$ and $x_c$ here.
\end{frame}

\begin{frame}{Expected Revenue - Private Cost}
  $\bar{F}_c$: conditional \textbf{value} distribution, when participation cost is $c$
  \begin{align*}
    \varphi_c(v) = v - \frac{1- \bar{F}_c(v)}{\hat{f}_c(v)}
  \end{align*}

  \begin{theorem}[\cite{primary}]
    Given any $\bar{F}$ with marginal cost distribution $G$, any mechanism $\mathcal{M}=(x,p)$, then the expected revenue of the seller $\mathbf{E}_{t \sim \bar{F}}\left[p_c(v)\right] $ is

    \begin{align*}
      \mathbf{E}_{c \sim G}\left[\mathbf{E}_{v\sim\bar{F}_c}\left[x_c(v)\varphi_c(v)\right] - (1-\bar{F}_c(v_x(c))) \cdot \max\{-p_0,c\}\right]
    \end{align*}
  \end{theorem}

  Maybe also add proof / proof idea for truthfulness and 
\end{frame}

\begin{frame}{Expected Revenue - Private Cost - Proof}
  \textbf{Proof.}\\

  Let $c$ be arbitrary fixed.

  Case $c > -p_0$ $\Rightarrow$ $v_x(c) > 0$ \\
  \begin{itemize}
    \item If player participates [$v \geq v_x(c)$]\\
          $p(v) = v x(v) - \int_0^vx(t)dt + p_0 = v x_{\alert{c}}(v) - \int_0^v x_{\alert{c}}(v) - c$ \\
    \item If player opts out [$v < v_x(c)$]\\
          $p(v) = 0 = v x_c(v) - \int_0^v x_c(t) dt$
  \end{itemize}

  \begin{align*}
    \mathbf{E}_{v \sim \bar{F}_c}\left[p(v)\right] & = \mathbf{E}_{v \sim \bar{F}_c}\left[v \cdot x_c(v) - \int_0^v x_c(t)dt - c \cdot \mathbf{1}\left[v \geq v_x(c)\right]\right] \\
                                                   & = \mathbf{E}_{v \sim \bar{F}_c}\left[x_c(v)\varphi_c(v)\right] - (1 - \bar{F}_c(v_x(c))) \cdot c
  \end{align*}

\end{frame}
\begin{frame}{Expected Revenue - Private Cost - Proof (Cont.)}

  Case $c \leq -p_0$ $\Rightarrow$ $v_x(c) = 0$ \\
  \begin{itemize}
    \item For $v \geq 0$\\
          $p(v) = v x(v) - \int_0^vx(t)dt + p_0 = v x_c(v) - \int_0^v x_c(v) + p_0$ \\
  \end{itemize}

  \begin{align*}
    \mathbf{E}_{v \sim \bar{F}_c}\left[p(v)\right] & = \mathbf{E}_{v \sim \bar{F}_c} \left[v x_c(v) - \int_0^v x_c(v) + p_0 \right]                     \\
                                                   & = \mathbf{E}_{v \sim \bar{F}_c}\left[x_c(v)\varphi_c(v)\right] + p_0                               \\
                                                   & = \mathbf{E}_{v \sim \bar{F}_c}\left[x_c(v)\varphi_c(v)\right] + (1 - \bar{F}_c(v_x(c))) \cdot p_0
  \end{align*}

\end{frame}
\begin{frame}{Expected Revenue - Private Cost - Proof (Cont.)}

  Case $c > -p_0$ + Case $c \leq -p_0$
  \begin{align*}
    \Rightarrow & \mathbf{E}\left[p(v)\right]                                                                                                            \\
    =           & \mathbf{Pr}[c > -p_0]\mathbf{E}\left[p(v) \mid c > -p_0\right] + \mathbf{Pr}[c \leq -p_0]\mathbf{E}\left[p(v) \mid c \leq -p_0\right]  \\
    =           & \mathbf{E}_{c \sim G}\left[\mathbf{E}_{v \sim \bar{F}_c}\left[x_c(v)\varphi_c(v)\right] + (1-\bar{F}_c(v_x(c))) \max\{c, -p_0\}\right]
  \end{align*}

  \qed
\end{frame}


\end{document}